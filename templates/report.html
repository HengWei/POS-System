<!DOCTYPE html>
<html lang="en">
<head>
    {% load staticfiles %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex, nofollow">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Affogato Café POS System Demo Version</title>
    <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">
    <link href="{% static "css/navbar-static-top.css" %}" rel="stylesheet">
    <link href="{% static "css/highcharts.css" %}" rel="stylesheet">
    <link href="{% static "css/navbar.css" %}" rel="stylesheet">
    <link href="{% static "css/ie10-viewport-bug-workaround.css" %}" rel="stylesheet">
    {#<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>#}

    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    {#    <script src="https://code.highcharts.com/modules/data.js"></script>#}
    <script src="https://code.highcharts.com/modules/drilldown.js"></script>
    {##}
    {##}
    {#    <script type="text/javascript" src="{% static "js/highcharts.js" %}"></script>#}

    {#    <link href="{% static "js/jquery-1.11.3.min.js" %}" rel="stylesheet">#}
    {#    <link href="{% static "js/jquery.dataTables.min.js" %}" rel="stylesheet">#}

    {#    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.15/css/jquery.dataTables.css">#}

    {#    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.15/js/jquery.dataTables.js"></script>#}


    {#    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>#}
    <link href="{% static "js/ie-emulation-modes-warning.js" %}" rel="stylesheet">
    {#    <script>#}
    {#        $(document).ready(function () {#}
    {##}
    {#            // Build the chart#}
    {#            Highcharts.chart('container', {#}
    {#                chart: {#}
    {#                    plotBackgroundColor: null,#}
    {#                    plotBorderWidth: null,#}
    {#                    plotShadow: false,#}
    {#                    type: 'pie'#}
    {#                },#}
    {#                title: {#}
    {#                    text: '各類銷售狀況'#}
    {#                },#}
    {#                tooltip: {#}
    {#                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'#}
    {#                },#}
    {#                plotOptions: {#}
    {#                    pie: {#}
    {#                        allowPointSelect: true,#}
    {#                        cursor: 'pointer',#}
    {#                        dataLabels: {#}
    {#                            enabled: false#}
    {#                        },#}
    {#                        showInLegend: true#}
    {#                    }#}
    {#                },#}
    {#                series: [{#}
    {#                    name: 'Brands',#}
    {#                    colorByPoint: true,#}
    {#                    data: [#}
    {#                        {% for item in data %}#}
    {#                            {#}
    {#                                name: '{{ item.menuName }}',#}
    {#                                y: {{ item.number }}#}
    {#                            },#}
    {#                        {% endfor %}#}
    {#            ]#}
    {#        }]#}
    {#        })#}
    {#            ;#}
    {#        });#}
    {#    </script>#}
    <script>
        $(document).ready(function () {

            Highcharts.chart('container', {
                chart: {
                    type: 'pie'
                },
                title: {
                    text: '銷售圓餅圖'
                },
                subtitle: {
                    text: '銷售類別'
                },
                plotOptions: {
                    series: {
                        dataLabels: {
                            enabled: true,
                            format: '{point.name}: {point.y:.1f}%'
                        }
                    }
                },

                tooltip: {
                    headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                    pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'
                },
                series: [{
                    name: '銷售內容',
                    colorByPoint: true,
                    data: [
                        {% for item in data %}
                            {
                                name: '{{ item.parentName }}',
                                y: {{ item.number }},
                                drilldown: '{{ item.parentName }}'
                            },
                        {% endfor %}
                    ]
                }],
                drilldown: {
                    series: [
                        {% for item in data %}
                            {
                                name: '{{ item.parentName }}',
                                id: '{{ item.parentName }}',
                                data: [
                                    {% for detail in dataDetail %}
                                        {% if detail.parentId == item.parentId %}
                                            ['{{ detail.menuName }}',{{ detail.number }}],
                                        {% endif %}
                                    {% endfor %}
                                ]
                            },
                        {% endfor %}
                    ]
                }
            });
        });

    </script>
</head>


{#<script type="text/javascript" language="javascript"#}
{#        src="//cdn.datatables.net/responsive/1.0.0/js/dataTables.responsive.min.js"></script>#}

<body>
<div class="container">
    <!-- Static navbar -->
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                        aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Affogato Café POS</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse navbar-right">
                <ul class="nav navbar-nav">
                    <li><a href="../sell/">Sell</a></li>
                    <li><a href="#">Buy</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                           aria-expanded="false">Report <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">銷售項目分析</a></li>
                            <li><a href="#">營業額</a></li>
                            <li><a href="#">銷售時間分析</a></li>
                        </ul>
                    </li>
                    <li><a href="#">Setting</a></li>
                    <li><a href="#">Logout</a></li>
                </ul>
            </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
    </nav>

    <!-- Main component for a primary marketing message or call to action -->
    <div class="">
        {#        <div id="container" style="min-width: 310px; height: 400px; max-width: 100%; margin: 0 auto"></div>#}
        <div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>
    </div>
    {#    <pre id="tsv" style="display:none">Browser Version    Total Market Share#}
    {#Microsoft Internet Explorer 8.0    26.61%#}
    {#Microsoft Internet Explorer 9.0    16.96%#}
    {#Chrome 18.0    8.01%#}
    {#Chrome 19.0    7.73%#}
    {#Firefox 12    6.72%#}
    {#Microsoft Internet Explorer 6.0    6.40%#}
    {#Firefox 11    4.72%#}
    {#Microsoft Internet Explorer 7.0    3.55%#}
    {#Safari 5.1    3.53%#}
    {#Firefox 13    2.16%#}
    {#Firefox 3.6    1.87%#}
    {#Opera 11.x    1.30%#}
    {#Chrome 17.0    1.13%#}
    {#Firefox 10    0.90%#}
    {#Safari 5.0    0.85%#}
    {#Firefox 9.0    0.65%#}
    {#Firefox 8.0    0.55%#}
    {#Firefox 4.0    0.50%#}
    {#Chrome 16.0    0.45%#}
    {#Firefox 3.0    0.36%#}
    {#Firefox 3.5    0.36%#}
    {#Firefox 6.0    0.32%#}
    {#Firefox 5.0    0.31%#}
    {#Firefox 7.0    0.29%#}
    {#Proprietary or Undetectable    0.29%#}
    {#Chrome 18.0 - Maxthon Edition    0.26%#}
    {#Chrome 14.0    0.25%#}
    {#Chrome 20.0    0.24%#}
    {#Chrome 15.0    0.18%#}
    {#Chrome 12.0    0.16%#}
    {#Opera 12.x    0.15%#}
    {#Safari 4.0    0.14%#}
    {#Chrome 13.0    0.13%#}
    {#Safari 4.1    0.12%#}
    {#Chrome 11.0    0.10%#}
    {#Firefox 14    0.10%#}
    {#Firefox 2.0    0.09%#}
    {#Chrome 10.0    0.09%#}
    {#Opera 10.x    0.09%#}
    {#Microsoft Internet Explorer 8.0 - Tencent Traveler Edition    0.09%</pre>#}
</div> <!-- /container -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src={% static "js/jquery-3.2.0.min.js" %}><\/script>')</script>
<script src={% static "js/bootstrap.min.js" %}></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src={% static "js/ie10-viewport-bug-workaround.js" %}></script>
</body>
</html>